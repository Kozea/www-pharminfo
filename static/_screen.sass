@import url(https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,300italic,400)

body
  background: white
  border-top: 4px solid $main-color
  color: $grey-1
  margin: 0

/* Styles général */
*
  font-family: 'Source Sans Pro', sans-serif

ul, ol
  list-style-type: none
  padding-left: 0

*:not(strong)
  font-weight: 300

body > section:not(#news):not(#reasons):not(#clients):not(#contact):not(#news-content)
  padding: 60px 10%

#goals, #guarantees, #reasons, #offers, #register, #whitepaper, #news-content, #clients
  h2
    @include h2_source_sans

article
  @include flexbox(column, flex-end)
  height: 270px
  overflow: hidden
  position: relative
  width: 100%

  time
    font-style: italic
    order: -1
    padding-top: 0.75em

  h3
    font-size: $subtitle
    margin: 0
    padding: 0.25em 0 0.75em

  img
    @include transform(translateX(-50%))
    left: 50%
    min-height: 100%
    min-width: 100%
    position: absolute
    top: 0
    z-index: -1

  a
    bottom: 0
    font-size: 0
    left: 0
    margin: 0
    position: absolute
    right: 0
    top: 0
    z-index: 20

  p
    margin: 0

/* Styles menu */
header h1
  display: none

#testimonials-map, #contact-map
  height: 500px
  width: 500px


nav ul
  @include flexbox(row, space-between)
  align-items: center
  box-sizing: border-box
  height: 70px
  position: absolute
  width: 80%

  li
    a
      @include transition(all)
      border-bottom: solid 2px transparent
      color: $white
      font-size: 1.125em
      line-height: 2
      padding: 0.5em 0
      text-decoration: none

      &:hover
        border-bottom: solid 2px $white

    &:last-of-type a
      border: solid 1px $white
      padding: 0.4em 0.6em

      &:hover
        background-color: $white
        color: $grey-1

.back-to-top
  @include transition(opacity, 700ms)
  background-color: $grey-2
  border: solid 1px #ffffff
  border-radius: 5px
  bottom: 70px
  color: #ffffff
  cursor: pointer
  font-size: 35px
  height: 50px
  line-height: 1.4
  opacity: 0
  position: fixed
  right: 20px
  text-align: center
  width: 50px
  z-index: 1000

  &:before
    content: '↑'

.fade
  opacity: 1

.scrolltop
  @include transform(translateY(-100%))

/* Styles page d'accueil */
#sales
  @include flexbox(column, center)
  background: url('images/photos/bkgd-home.jpg') no-repeat center/cover
  box-sizing: border-box
  min-height: 100vh
  text-align: center

  h2
    @include bottom_stroke(4px, 30px auto 0, 28px)
    color: $white
    font-size: $big-title
    font-weight: 400
    margin: 0.7em auto
    max-width: 15em
    text-shadow: 2px 2px 7px rgba(150, 150, 150, 0.4)

    &::before
      @include content(block, auto, 252px, url('images/logo-white.svg'))
      margin: 0 auto 20px

  ul li a
    @include transition(all)
    background-color: $white
    color: inherit
    font-weight: 400
    text-decoration: none
    padding: 0.5em 1em

    &:hover
      background-color: $main-color
      color: $white
      padding: 1em 2em

#about
  h2
    @include h2_source_sans($main-color, italic)

#index #news
  @include flexbox(column, flex-start, nowrap)

  h2
    display: none

  article
    flex: auto

    h3, time
      background-color: rgba(255, 255, 255, 0.9)
      padding-left: 15px
      padding-right: 15px
      position: relative

    h3
      border-bottom: solid 1px $main-color
      padding: 0.25em 15px 0.75em

  ul
    background: $grey-3
    margin: 0
    min-height: 150px
    position: relative

    li
      left: 0
      position: absolute
      right: 0
      text-align: center
      @include transform(translateY(-50%))
      top: 50%

      a
        @include cta
        border-color: $grey-1

#goals
  background-color: $grey-4

  ul
    @include flexbox(row, space-between)

    li
      font-size: $basic-font-size
      margin: 1.5em 0
      min-height: 56px
      padding-left: calc(56px + 2em)

      @each $name in help, connect, innovate, simplify, save, raise
        &##{$name}
          background: url(images/objectifs/icon-#{$name}.svg) top left / 56px 56px no-repeat

      strong
        color: $main-color
        display: block
        font-size: $subtitle

#guarantees
  ul
    @include flexbox(row, center)

    li
      @include flexbox(column, center, nowrap)
      align-items: center
      background-color: $grey-4
      border-bottom: solid 1px $grey-3
      border-left: solid 1px $grey-3
      box-shadow: 1px -1px 0 $grey-3
      box-sizing: border-box
      font-size: $basic-font-size
      padding: 20px
      text-align: center
      text-transform: uppercase

      &::before
        border: solid 3px $main-color
        border-radius: 50%
        display: block
        height: 50%
        margin-bottom: 20px
        max-height: 100px
        max-width: 100px
        width: 50%

      @each $name in cloud, payment, ars, security, order, sav, seo, responsive
        &##{$name}::before
          content: url(images/warranties/icon-#{$name}.svg)

#reasons
  p
    font-style: italic
    text-align: center

  ol
    counter-reset: reasons
    margin: 1.2em auto 0
    max-width: 45em
    padding: 0 10% 3em

    li
      @include triangle(-7px, inherit, calc(50% - 10px), 0)
      counter-increment: reasons
      margin: 1.2em 0 1.2em 1.5em
      padding: 1.5em 1.5em 1.5em calc(1.5em + 50px)
      position: relative

      &::after
        @include content(initial, 1.2em, 1.2em, counter(reasons))
        background-color: $white
        border: solid 1px $grey-2
        border-radius: 50%
        color: $grey-2
        font-weight: 400
        text-align: center
        top: calc(50% - 10px)
        position: absolute
        left: -35px

      @each $name in develop, expertise, loyal, satisfaction, accompaniment, cost
        &##{$name}
          background: url('images/choose/icon-#{$name}.svg') 0.75em center / 50px no-repeat, $grey-3

#clients
  #testimonials-map
    width: 100%

  h2
    position: absolute
    text-align: center
    width: 100%

  #testimonials
    background: $grey-3
    box-sizing: border-box
    margin: 0
    padding: 100px 10% 40px
    text-align: center

    figure, blockquote
      margin: 0

    blockquote p::before, blockquote p::after
      content: '"'

  #stats
    @include flexbox(row, space-between)
    margin: 0
    padding: 0 10%

    li
      background: padding-box center 0 / 100% auto no-repeat
      box-sizing: border-box
      display: flex
      margin: 20px 0
      padding: 150px 0 1em

      @each $name in interne, symplify, special-order, delivery
        &##{$name}
          background-image: url('images/numbers/#{$name}.svg')

      strong
        font-size: 3em
        font-weight: 400
        line-height: 1
        padding: 0 0.2em

  > p
    font-size: 0.75em
    text-align: center
    width: 100%

  &::after
    @include content(block, 260px, 100%)
    background: url('images/photos/bkgd-meds.jpg') center / cover no-repeat fixed

#offers
  background-color: $grey-4

  h2, > p
    width: 100%

  h2, > p, section
    text-align: center

  > p
    font-style: italic

  section
    @include transition(all)
    border: solid 3px
    box-sizing: border-box
    margin: 1.2em 0
    padding: 2em 1.5em

    h3
      font-weight: 400
      margin: 0
      text-transform: uppercase

    p:first-of-type
      margin: 0

    p.price
      border-bottom: solid 1px $grey-3
      border-top: solid 1px $grey-3
      font-size: 0.75em
      margin: 2em 0
      padding: 0.7em

      strong
        font-size: $big-title
        font-weight: 400

    ul li
      font-size: $basic-font-size
      margin: 1em

      &.disabled
        opacity: 0.35

    ul.links
      margin: 3em 0 2em

      li a
        @include cta
        border-color: $grey-1

    &:not(#flexiweb-plus)
      background-color: $white
      border: solid 3px $grey-4

      &:hover
        border: solid 3px $grey-3

    &#flexiweb-plus
      background-color: $main-color
      border: solid 3px $main-color-light
      color: $white

      p.price, ul.links li a
        border-color: $white

    &.close
      ul
        display: none

  ul.notes
    font-size: 0.75em

#main-offer
  background-color: $grey-4
  padding-top: 3em
  text-align: center

  h2
    font-size: 1.875em

  p
    font-style: italic

  ol
    @include flexbox(row, flex-start)
    counter-reset: offer_count
    margin: 2em 0

    li
      @include triangle(calc(50% - 4px), inherit, -13px, 90deg)
      border-top: solid 220px transparent
      counter-increment: offer_count
      margin-bottom: 3em
      padding: 0.7em
      position: relative
      width: 100%

      &::after
        @include content(block, 20px, 20px, counter(offer_count))
        background-color: $grey-4
        border: solid 1px $grey-2
        border-radius: 50%
        color: $grey-2
        font-weight: 400
        left: calc(50% - 0.7em)
        margin: 0 auto
        position: absolute
        top: -2.5em
        z-index: 2

      @each $name in medicine, app, computer, sms, reception
        &##{$name}
          background: url('images/timeline-mobile-app/#{$name}.svg') border-box center 0 / 146px auto no-repeat, padding-box $grey-3

  ul.links li a
    @include transition(padding)
    background-color: $main-color
    color: $white
    padding: 0.75em 1em
    text-decoration: none
    text-transform: uppercase

    &:hover
      padding: 1.5em 2em

  &::after
    @include content(block, 250px, 125%)
    background: url('images/city-bkgd.svg') center / auto 100% no-repeat
    left: -12.5%
    margin-top: 50px
    position: relative

#customize
  background-color: $grey-4
  text-align: center

  h2
    font-size: 1.875em

  p
    font-style: italic

  dl
    @include flexbox(column, flex-start)
    align-items: center
    height: 680px

    dt
      @include bottom_stroke(2px, 0 auto, 18px)
      font-size: $basic-font-size
      margin-top: 3em
      position: relative

      &::before
        @include content(block, 50px, 50px)
        margin: 0 auto 10px

      &::after
        left: calc( 50% - 9px )
        position: absolute
        top: 50px

      @each $name in image, colors, logo, theme
        &##{$name}::before
          background: url('images/personnalisation/icon-#{$name}.svg') center 0 no-repeat

    dd
      font-size: $subtitle
      margin: 0.5em 0 0

    dt, dd
      max-width: 150px

#contact
  #contact-map
    height: 400px
    width: 100%

  > *:not(#contact-map)
    padding: 0 10%

  h2
    @include bottom_stroke(2px, 15px 0 0, 16px)
    font-size: $title

  dl
    dt
      color: $main-color
      float: left
      margin-right: 10px

      &::after
        content: ' :'

      &:first-of-type
        display: none

    dd
      margin-left: 0

      a
        color: inherit
        text-decoration: none

      &:first-of-type
        display: block
        margin-bottom: 40px

      strong
        font-weight: 400

  & > p
    font-size: 0.7em
    font-style: italic
    margin-bottom: 40px
    text-decoration: underline

form
  margin-top: 40px

  label
    display: none

  input:not(:last-of-type), textarea
    border: solid 1px $grey-1
    border-top: none
    border-radius: 0
    box-shadow: 0
    box-sizing: border-box
    display: block
    font-family: inherit
    margin: 0
    padding: 0.75em
    -webkit-appearance: none
    width: 100%

  input:first-of-type
    border-top: solid 1px $grey-1

  textarea
    min-height: 130px

  input:last-of-type
    @include transition(all)
    background: transparent
    border: solid 1px $grey-1
    border-radius: 0
    cursor: pointer
    margin: 20px 0 0
    padding: 0.75em 2em
    text-transform: uppercase

    &:hover
      background: $grey-1
      color: $grey-4

#click-to-call
  @extend .close
  position: fixed
  right: 0
  top: 40%

  &.close
    background: url('images/click-to-call.svg') center center / 80% auto no-repeat, #1eb7e0
    height: 55px
    width: 55px

    h2, form
      display: none

footer
  background-color: $grey-1
  padding: 20px 10%

  #social li
    display: inline-block
    font-size: 0
    height: 23px
    margin: 0 5px
    vertical-align: top
    width: 23px

    @each $name in facebook, twitter, google, linkedin, scoopit
      &##{$name}
        background: url('images/social-medias/icon-#{$name}.svg') center 0 no-repeat

  #links
    color: $white
    text-align: right

    li
      margin-top: 10px

      a
        color: inherit
        text-decoration: none

/* Style for annexes */
#register, #whitepaper
  header::before
    @include content(block, 0, 100%)
    position: absolute
    box-shadow: 0px 20px 200px 70px rgba(0, 0, 0, 0.2)

  > section::before
    @include content(block, 290px, 125%)
    margin: -130px 0 0 -12.5%

  input:not(:last-of-type)
        font-size: 1.125em

  #subscribe
    p
      text-align: center

    form
      margin: 40px auto
      max-width: 600px

      #email
        border-top: solid 1px

#register > section::before
    background: url('images/photos/bdc-bkgd.jpg') center / cover no-repeat

#whitepaper > section::before
  background: url('images/photos/whitepaper-bkgd.jpg') center / cover no-repeat

#news-content
  box-sizing: border-box
  padding: 0 10% 60px
  width: 100%

  article
    margin: 20px 0

    time, h3
      background: white
